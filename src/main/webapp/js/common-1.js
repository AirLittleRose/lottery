!function(e,t,i,a,o){var s={gameNumberSelector:"#gameNumber",gameZhuSelector:"#gameZhu",totalMoneySelector:"#totalMoney",maxbonusSelector:"#maxbonus",floatBoxSelector:".floatBox",buySelector:"#poolStep3 .ljtzBtn",groupBuySelector:"#poolStep3 .fqhmBtn",openDetailBonusSelector:"#openDetailBonus",changeDateSelector:"#changeDate",gameIdSelector:"#gameId",bonusFilterSelector:"#bonusFilter",numFilterSelector:"#numFilter",poolErrorTipsSelector:"#poolErrorTips",tipMarkSelector:"#tipMark",poolStep1Selector:"#poolStep1",poolStep2Selector:"#poolStep2",poolStep3Selector:"#poolStep3",floatTitleSelector:".dataHead",changeTimeSelector:"#changeTime",stopGameSelector:"#stopGame",hotGameSelector:"#hotGame",chooseGameSelector:"#chooseGame",changeGameSelector:"#changeGame",betAnSelector:"#betAn",tzTipsSelector:".tzTips",scrollPoolPaneSelector:".scrollMoni",init:function(){var a={},o=/(\S+)Selector$/;for(var s in this)if("string"==i.getType(s)&&o.test(s))a[RegExp.$1]=t(this[s]);e.cache=e.cache||{};n.cache=n.cache||{};t.extend(n.cache,a);t.extend(e.cache,a);delete this.init}},n={cache:{},init:function(){n.checkStopGame().moveTitle().initAsideAutoHeight().initAsideAutoPosition().initRuleClick().changeTime().changeDate().changeGame().changeAnData().initDisplayToolBar().betTipsOpertion().initNews().payEvent().loadHello().initParam().initIcon().detailBounds().initbonusFilter().initNumFilter().initDgSupport().initGuideNavClickEvent().initThemeSwitch()},moveTitle:function(){var i=this.cache,o,s=e.betArea.cache.gameWrap,n=t("<div>"),c,r=t("#docBody"),l=r.offset().top,h=i.floatTitle;o=h.offset().top;n.css({height:h.height(),width:h.width(),display:"none"});h.after(n);t(a).scroll(function(){var e=t(a).scrollTop(),i=t.browser.msie&&+t.browser.version<7;c=s.offset().top+s.eq(0).height()+s.eq(1).height()-30;if(e>o){if(c<e)h.css({position:"absolute"});else h.css({position:i?"absolute":"fixed",top:i?e-l:0,zIndex:888});n.css("display","")}else{h.css({position:"relative",zIndex:3,top:"auto"});n.css("display","none")}});return this},checkStopGame:function(){var e=a.Game?a.Game.config.gameEn:"";if(e)i.checkGamePause(e);return this},initAsideAutoPosition:function(){if(t.browser.msie&&+t.browser.version<7)return this;var e=this.cache,i=e.floatBox,o=e.floatTitle,s=t(".hotBlock"),n=t("#docFoot"),c=t("#docBody"),r=c.offset().top,l=o.offset().top,h=false,f,u=t(a);f=function(){var e=u.scrollTop(),t=s.offset()||n.offset(),a=t.top-i.height()-100;if(!a||a<=0)return;if(u.height()<616){i.css({position:"relative",zIndex:3,top:""});return}if(e>l)if(a<e)if(a<l)i.css({position:"",zIndex:1});else i.css({position:"absolute",top:a-r,zIndex:665});else i.css({position:"fixed",zIndex:665,top:0});else i.css({position:"relative",zIndex:3,top:""})};f();this.reSetRightSidePosition=f;t(a).scroll(f);return this},initAsideAutoHeight:function(){if(t.browser.msie&&+t.browser.version<7)return this;var i=138,o=this.cache,s=o.floatBox,n=o.poolStep2,c=o.poolStep3,r=o.scrollPoolPane,l=e.betPool,h=l.cache.wrap,f=this,u,m;r.css("overflow","hidden");u=function(){var e=s.height(),o,u=t(a).height(),m=h.height(),d=c.height()+n.height()+67;o=u-d;o<i&&(o=i);o>m&&(o=m);r.css("height",o);l&&l.scrollBar&&l.scrollBar.reinitialise();f.reSetRightSidePosition&&f.reSetRightSidePosition()};this.reSetRightSideHeight=u;t(a).resize(function(){m&&clearTimeout(m);m=a.setTimeout(u,100)});return this},initRuleClick:function(){t("#orderRule").click(function(){t(this).find(".icoFx").toggleClass("icoFx_active")});return this},changeTime:function(){var i=this,a=e.betArea,o=this.cache.changeTime;o.jSelect({method:"mouseover",hitCss:"showOption"},function(e){var i=a.cache.gameInfo,o=e.option.hash.substr(1);for(var s in i)if(i[s].startTime&&i[s].endTime)if("1"==o)i[s].ele.find("span.gameTime i").html(t.formatTime(i[s].startTime,"hh:mm"));else i[s].ele.find("span.gameTime i").html(t.formatTime(i[s].endTime,"hh:mm"))});return this},changeDate:function(){var e=this.cache.changeDate;e.jSelect({method:"click"},function(e){if(e.newVal)a.document.location.href=e.newVal});return this},changeGame:function(){var e=this.cache.changeGame;if(!e.length)return this;e.jSelect({method:"click"},function(e){if(e.newVal)a.document.location.href=e.newVal});return this},changeAnData:function(){var e=this,i=t("#docBody").find(".main"),a=this.cache.betAn;a.jSelect({method:"mouseover",hitCss:"showOption"},function(e){var a=e.option.hash.substr(1);t.each(["onlyBidCounts","onlyHotCounts","onlyOdds"],function(e,t){if(e+1==a)i.addClass(t);else i.removeClass(t)})});return this},initDisplayToolBar:function(){var i=this.cache,a=i.stopGame,o=i.hotGame,s=i.chooseGame,n=this,c=function(){var i=t(this).find(".icoFx"),n;i.toggleClass("icoFx_active");n={isHot:o.find(".icoFx").hasClass("icoFx_active"),isStop:a.find(".icoFx").hasClass("icoFx_active"),isSelect:s.find(".icoFx").hasClass("icoFx_active")};e.betArea.display(1,n)};a.click(c);o.click(c);s.click(c);return this},betTipsOpertion:function(){var e=this;this.cache.tzTips.delegate(".cuspText","click",function(){var i=t(this),o=i.parents(".tzTips");if(!o.hasClass("closeData")){o.addClass("closeData");e.reSetRightSidePosition&&e.reSetRightSidePosition();i.html('显示<i class="cusp"></i>')}else{i.html('隐藏<i class="cusp"></i>');e.reSetRightSidePosition&&e.reSetRightSidePosition();o.removeClass("closeData")}if(t.browser.msie&&+t.browser.version<7)t(a).triggerHandler("scroll")});return this},initNews:function(){var e;t(".eventTips").delegate("li","mouseenter mouseleave",function(e){if("mouseover"==e.type)this.className="hover";else this.className=""}).mouseenter(function(){var i=t(this);e&&a.clearTimeout(e);e=a.setTimeout(function(){i.addClass("eventTipsHover")},200)}).mouseleave(function(){var i=t(this);e&&a.clearTimeout(e);i.removeClass("eventTipsHover")});return this},payEvent:function(){var a=this.cache,o,s=a.buy,n=a.groupBuy,r=e,l=r.betMethod,h=r.betPool,f=a.gameId,u=a.totalMoney,m=1,d="2_1",p=function(){var e={stakeNumber:h.serialize(),gameExtra:l.serialize(),gameId:f.val(),isSupportPassWay:m,betTimes:r.betTime.get()},t=r.config.activityType;t&&(e.activityType=t);return e};s.bind("click",function(){if(false!==r.baseCheck())c.payOrder(p(),1);t(this).blur()});n.bind("click",function(){o=+u.html()||0;if(!r.baseCheck())return;if(o<8){i.alert("发起合买时投注金额不能少于8元，再多选几注吧！");return}c.openGroupBuyDialog(o);t(this).blur()});return this},loadHello:function(){if(e.config.bgConfig){e.loadCss(e.cdnUrl+"/css2/lotteryBet/jczqNew/bgPop.css");e.loadCdnJS("js2/sportGame2/jczq/hello.js",function(){return!!e.loadBgAd},function(){e.loadBgAd(e.config.bgConfig)})}return this},initParam:function(){var i=t.getPara(),a=e;if(i)try{if(i&&i.gameStr)e.defaultGame(i.gameStr,i.gameExtra);var o;o=i.betTimes;if(!isNaN(o)){o=Math.floor(o);if(o<0)o=0;if(o>99999)o=99999;a.betTime.set(o)}if(i.anchor){var s=a.betArea.get(),n=s.gameInfo[i.anchor].ele,c=a.betArea.config;if(n){a.scrollWhenNeed(n.offset().top-60);n.addClass(c.hoverGame);a.betArea.cache.gameWrap.delegate(c.oneGameSelect,"mouseenter",function(e){var i=t(this);if(i[0]!=n[0])n.removeClass(c.hoverGame);else n.addClass(c.hoverGame)})}}if(i.autoPay&&1==i.autoPay)a.cache.buy.trigger("click")}catch(r){}return this},initIcon:function(){var e=t(".gameMenu");var i=[{getDom:function(){return e.find("li.J_dggd")},cls:"cz_rt",txt:"new"},{getDom:function(){return e.find("li.J_focusEvents")},cls:"cz_rt",txt:"hot"},{getDom:function(){return t(".betNav").find('li[gametype="dgfix"]')},cls:"cz_yz",txt:"新玩法"}];if(t.isIE6||t.isIE7){var a=e.children("li");var o=a.length;a.each(function(e){t(this).css({zIndex:o-e})})}t.each(i,function(e,t){t.getDom().append('<span class="cz_icon '+t.cls+'">'+t.txt+'<i class="arrowsIcon"></i></span>')});return this},detailBounds:function(){var t=this,o=e;this.cache.openDetailBonus.click(function(s){s.preventDefault();var n=o.config,c=t.cache,r=n.detailBoundUrl,l=o.betMethod,h=c.gameId,f=o.betPool,u=n.teamData,m={};if(!r)return;if(false!==o.baseCheck()){if(+c.gameZhu.html()>1e4){i.alert("请选择10000注以下的查看");return this}m.betTimes=o.betTime.get();m.totalMoney=+c.totalMoney.html();m.selectMethod=l.get().selectMethod;m.stakeNumberStr=f.serialize();m.gameExtra=l.serialize();m.gameId=c.gameId.val();m.gameEn=i.config.gameEn;m.activityType=n.activityType;m.selectGameInfo=o.formatGameInfo4Detail(f.get(),u);e.bonusCalcData=m;a.open(r,"_blank")}});return this},initbonusFilter:function(){var t=this,a=e,o=this.cache,s=a.config,n,c,r,l=1,h=o.bonusFilter,f=o.gameZhu,u=o.gameId,m=o.totalMoney,d=a.betPool,p=a.betMethod,g=s.bonusFilterUrl;if(h&&h.length)h.click(function(e){e.preventDefault();var t,o;if(false!==a.baseCheck()){if(+f.html()>1e3){i.alert("奖金优化支持注数最多1000注");return this}c=d.get();for(r in c)if(c[r].isDan){i.alert("奖金优化暂不支持胆码设置");return this}t={gameId:u.val(),primaryStakeNumber:d.serialize(),primaryBetTimes:a.betTime.get(),primaryGameExtra:a.betMethod.serialize(),primaryIsSupportPassWay:l,optimizeType:1,primarySchemeAmount:+m.html(),totalAmount:+m.html()};if(s.bonusFilterUrl){o=s.bonusFilterUrl;a.createForm(o,t)}}});return this},initNumFilter:function(){var t=this,a=e,o=this.cache,s=a.config,n,c,r,l=1,h=o.numFilter,f=o.gameZhu,u=o.gameId,m=o.totalMoney,d=a.betPool,p=a.betMethod,g=s.numFilterUrl,v=function(){var e=p.get().selectMethod,t=d.cache.selectGameInfo,i=true,a=true,o,s,n,c,r,l;if(t.length>1){for(o in t)if("length"!=o){s=t[o]["sp"];c=0;for(n in s){if(c>0){a=false;break}l=n;c+=1}if(!a)break;else{if(!r){r={};r[l]=1}if(!r[l]){a=false;break}}}i=a}else i=false;if(i)if(e.length>1||"m_n"==p.cache.currentType||"1_1"==e.toString())i=false;i?h.show():h.hide();return i};if(!g)return this;d.cache.selectSequence={};d.onChange(function(){v();return this}).onClear(function(){this.cache.selectSequence={}}).onDel(function(e){if(this.cache.selectSequence[e])delete this.cache.selectSequence[e]}).onSelectOption(function(e,t,i){var a=this.cache.selectSequence,o=a[e],s;i=+i;if("spf"==t||"rfspf"==t)if(!o){o=a[e]={};o[t]=[i]}else{s=o[t];if(!s)s=o[t]=[i];else s.push(i)}}).onRemoveOption(function(e,t,a){var o=this.cache.selectSequence,s,n;a=+a;if("spf"==t||"rfspf"==t){s=o[e][t];n=i.indexOf(s,a);if(n>-1)s.splice(n,1)}});p.onMethodChange(function(){v();return this}).onTabChange(function(e){"m_1"==e?h.show():h.hide();return this});d.serialize2=function(){var e=this.cache,t,a,o,s,n=this.config.teamData,c,r=e.selectGameInfo,l=e.selectSequence,h,f,u,m=[],d;d=this.getMapKeyList(r);i.sortNum(d);for(s=0;s<d.length;s++){t=d[s];u=[];u.push(t);f=[];for(a in r[t].sp){c=n[a];if("spf"==a||"rfspf"==a){h=l[t];for(o=0;o<h[a].length;o++)f.push(c[h[a][o]][2])}else for(o in r[t].sp[a]){if("length"==o)continue;f.push(c[o][2])}}u.push(f.join("."));if(r[t].isDan)u.push(1);else u.push(0);m.push(u.join(":"))}return m.join(" ")};h.click(function(t){t.preventDefault();var o=function(){var e={stakeNumber:d.serialize2(),gameExtra:p.serialize(),gameId:u.val(),isSupportPassWay:l,betTimes:a.betTime.get()},t=s.activityType;t&&(e.activityType=t);return e},n,c,r=d.get(),h;if("object"==i.getType(g)){for(n in r)if("length"!=n){for(c in r[n].sp)break;break}"rfspf"==c&&(c="spf");h=g[c]}else h=g;if(!h)return;if(false==v())return;if(!e.easyNav.isLogin())e.easyNav.login2(function(){a.createForm(h,o(),"post","_self")});else a.createForm(h,o());t.preventDefault()});delete this.initNumFilter;return this},initGuideNavClickEvent:function(){var i=t(".guideList");if(i.length){e.bindModule({handleGuideNavClick:{js:"js2/sportGame2/jczq_v1/inc/guide.js",css:"css2/lotteryBet/jczqNew/guide.css"}});i.find("li").click(function(){e.handleGuideNavClick(this);return false})}return this},autoRunNewGuideIfNeeded:function(){var i=e.easyNav.isLogin(),o=e.config.isNewUser,s=t(".guideList");if(!i&&"1"!=a.LS.get("zqLs"))s.find('li[data-ctype="newGuide"]').trigger("click");if("1"==o&&"1"!=a.LS.get("zqLs"+easyNav.accountId))s.find('li[data-ctype="newGuide"]').trigger("click");return this},storeThemeIfNeeded:function(){var i=t.getUrlPara("style");if(null===t.cookie("cp_jczq_theme")){if(i&&i==e.config.currentTheme)t.cookie("cp_jczq_theme",e.config.currentTheme,{domain:".caipiao.163.com",path:"/",expires:3650})}else if(!i&&t.cookie("cp_jczq_theme")!==e.config.currentTheme)t.cookie("cp_jczq_theme",e.config.currentTheme,{domain:".caipiao.163.com",path:"/",expires:3650})},initThemeSwitch:function(){this.storeThemeIfNeeded();var i=["green","gray"];var o=t.inArray(e.config.currentTheme,i);var s=(o+1)%i.length;var n=i[s];t("#switchTheme").click(function(){t.cookie("cp_jczq_theme",n,{domain:".caipiao.163.com",path:"/",expires:3650});a.location.href=a.location.protocol+"//"+a.location.host+a.location.pathname})},initMoreData:function(){this.cache.dataDanalysis={};var i=this,a=e;this.cache.gameWrap.delegate(".moreData","click",function(){var e=a.config,o,s,n,c=t(this),r,l,h;n=c.parents("[matchCode]").attr("matchCode");r=i.cache.dataDanalysis;s=i.get().gameInfo[n];l=s.openBtn;h=!l?true:l.hasClass("closeBtn")?false:true;if(!c.hasClass("active")){c.addClass("active");if(!r[n]){o=s.ele.eq(s.ele.length-1);if(s.relationEle)o=s.relationEle.eq(s.relationEle.length-1);o.after(e.dataDanalysisTmp);o=o.next();r[n]={};r[n].ele=o;a.loadCdnJS("js2/sportGame2/jczq/jcData.js",function(){return!!t.fn.jczqData},function(){o.jczqData({hostName:s.hostName,guestName:s.guestName,active:0,matchId:s.matchId,hostTeamId:s.hostTeamId,visitTeamId:s.visitTeamId,leagueId:s.leagueId,gameId:i.config.gameId,matchCode:n,close:function(){c.trigger("click")}})})}r[n].ele[h?"removeClass":"addClass"]("analyTwo");r[n].ele.slideDown(function(){t(this).css("display","")})}else{c.removeClass("active");r[n].ele.slideUp(function(){t(this).css("display","none")})}});this.onPosition(function(e){var t=this.cache,i=t.gameInfo,a,o;for(var s in i){a=i[s].relationEle||i[s].ele;if(t.dataDanalysis&&t.dataDanalysis[s]){o=t.dataDanalysis[s].ele;if(a.next()[0]!==o[0])a.after(o)}}}).onDisplay(function(e,t){var i=this.cache.dataDanalysis;if(!i)return;if(false==t)return;for(var a in e)if(i[a])i[a].ele[e[a]?"removeClass":"addClass"]("hide")});return this},initDgSupport:function(){var e=t("#supportDg"),i=t(".main");e.click(function(t){var a=e.find(".icoFx");if(a.hasClass("icoFx_active")){a.removeClass("icoFx_active");i.removeClass("showDgTips")}else{a.addClass("icoFx_active");i.addClass("showDgTips")}});return this}},c={openGroupBuyDialog:function(a){var o=e,s,n=function(e){e.removeClass("hide3");t.dialog({title:"发起合买",css:"payMentDialog",type:"insert",button:[],content:e,width:558,animate:0,button:["立即付款"],check:function(){var e=o.groupBuy.getData(),t={gameExtra:o.betMethod.serialize(),gameId:o.cache.gameId.val(),stakeNumber:o.betPool.serialize(),isSupportPassWay:"1",betTimes:o.betTime.get(),caseDesc:e.desc,caseTitle:e.title,createrBuyPieces:e.createrBuyPieces,guarantee:e.baodi,proportion:e.feeType,secretLevel:e.secretLevel,totalPieces:e.totalPieces},i=o.config.activityType;i&&(t.activityType=i);c.payOrder(t,3)}},function(){e.hide()})};if(!o.groupBuy){if(!o.groupBuyStatus){o.groupBuyStatus=true;e.get(o.config.groupBuyUrl,{gameId:o.cache.gameId.val()},function(c,r){delete o.groupBuyStatus;if(c){i.alert("合买加载错误，请稍后再试");return}e.loadCdnJS("js2/sportGame2/COMS/GroupBuy.js",function(){return!!o.GroupBuy},function(){s=t(r);s.addClass("hide3");t("body").append(s);o.groupBuy=i.createCom("COMS.JC.GroupBuy",s);o.groupBuy.setBaseMoney(a);n(s)})})}}else{s=t(".groupBox");s.show();o.groupBuy.setBaseMoney(a);n(s)}},moveOptionAnimation:function(i,a,o,s){var n=e,c,r,l=n.betPool,h=n.betArea,f,u;if(false===n.selectAnimation)return n;if(!t.isIE6&&!t.isIE7&&i&&a&&o>=0&&s>=0){u=n.config.teamData[a][o];c=h.findGameOption(i,a,o);r=l.cache.wrapBody.find('a[matchCode="'+i+'"][gameType="'+a+'"][index="'+o+'"]');l.scrollBar&&l.scrollBar.scrollToElement(r);r.addClass("hide2");f=t('<a class="'+u[0]+'"style="position:absolute;left:-9999px;top:-9999px;z-index:999;">'+u[1]+"</a>");t("body").append(f);n.Tools.moveEle(f,c,r,100,function(){r.removeClass("hide2");f.remove()})}},payOrder:function(t,i){e.loadJS(e.cdnUrl+"/js2/pay/pay.js",function(){return!!e.pay},function(){e.pay.toPay({data:t,orderType:i})})},updateGameInfo:function(){var t=e,a=t.betMethod.dgpUtils;if(a&&a.isChecked&&0===t.betMethod.cache.selectMethod.length){a.updateGameInfo();return}var o,t=e,s=t.cache,n=t.betMethod,c=t.betPool,r=n.get().selectMethod,l=c.get(),h=n.config.methodType,f=c.config.gameTypes,u=c.config.teamData,m=s.gameZhu,d=s.totalMoney,p=s.betTimes,g=t.betTime.get(),v=s.maxbonus,y,b=0;y=e.getMinMethod();o=t.getTotalNum(r,l,h,f);s.gameNumber.html(l.length||0);b=o[0]||0;m.html(b);d.html((2*b*g).toFixed(2));t.loadCdnJS("js2/sportGame2/bonus/com/jczqBonus.js",function(){return!!i.jczq&&i.jczq.getMaxBound},function(){var e=t.formatGameInfo(l,u),a;if(e.length>=y&&r.length>0)try{a=i.jczq.getMaxBound({selectMethod:r,selectGameInfo:e});a=+a||0}catch(o){a=0}else a=0;v.html((a*g).toFixed(2))})},messageTip:function(t){var i=e.cache,a,o,s,n,c=i.poolErrorTips,r=i.tipMark,l=e.getMinMethod(),h=i.poolStep2;if(!t){r.hide();if(1==l)c.css("display","").html("请在左侧列表选择投注比赛");else c.css("display","").html("请在左侧列表至少选择2场比赛");return}c.html(t).show().addClass("pool-error-highlight");a=h.find(".methodContent");o=a.position();n=a.width()-4;s=a.height()-4;r.css({top:o.top,left:o.left,height:s,width:n}).show();r.flash(function(){r.hide();c.removeClass("pool-error-highlight")})}};t.extend(e,{initChooseGameToolBar:function(){var e=this.cache,i=this,a=t("#onlySpf, #onlyRqSpf");a.click(function(){var e=t(this),a=e.attr("gameType"),o=e.find(".icoFx");if(!o.hasClass("icoFx_active_disable"))if(o.hasClass("icoFx_active"))i.setDisPlayGame(1==a?2:1);else i.setDisPlayGame()});return this},setDisPlayGame:function(e){var i=t("#docBody").find(".main"),a=t("#onlySpf .icoFx"),o=t("#onlyRqSpf .icoFx");e=+e||3;switch(e){case 1:i.addClass("onlySpf").removeClass("onlyRqSpf");a.addClass("icoFx_active").addClass("icoFx_active_disable");o.removeClass("icoFx_active").removeClass("icoFx_active_disable");break;case 2:i.addClass("onlyRqSpf").removeClass("onlySpf");o.addClass("icoFx_active").addClass("icoFx_active_disable");a.removeClass("icoFx_active").removeClass("icoFx_active_disable");break;case 3:i.removeClass("onlySpf").removeClass("onlyRqSpf");a.addClass("icoFx_active").removeClass("icoFx_active_disable");o.addClass("icoFx_active").removeClass("icoFx_active_disable")}return this},baseCheck:function(){var e=this.cache,a=this.getMinMethod(),o=this.betArea,s=this.betPool,n=s.get().length,r=this.betMethod,l=e.gameZhu;if(!t("#orderRule i.icoFx").hasClass("icoFx_active")){i.alert("请先阅读并同意《委托投注规则》后才能继续");return false}if(!(n>=a)){if(1==a)c.messageTip("请在左侧列表选择投注比赛");else c.messageTip("请在左侧列表至少选择2场比赛");return false}if(!r.get().selectMethod.length){c.messageTip('请选择过关方式&nbsp;&nbsp;<i inf="N串1，即将N场比赛串联成一注，猜对N场即可中奖" class="questionMark jtip"></i>');return false}if(!this.betTime.get()){c.messageTip("方案倍数不正确");return false}return true}});t.extend(e,{Common:n,EleConfig:s,Helper:c})}(Core,jQuery,Game,window);